@use "../../styles/theme" as *;

// Container query width mixin - snap to breakpoints using min-width
// Portrait: 150px, Landscape: 240px, Gap: 20px
@mixin gridWidth {
    max-width: 150px; // 1 portrait

    @container card-grid (min-width: 320px) {
        max-width: 320px; // 2 portrait
    }

    @container card-grid (min-width: 490px) {
        max-width: 490px; // 3 portrait
    }

    @container card-grid (min-width: 660px) {
        max-width: 660px; // 4 portrait
    }

    @container card-grid (min-width: 830px) {
        max-width: 830px; // 5 portrait
    }

    @container card-grid (min-width: 1000px) {
        max-width: 1000px; // 6 portrait
    }

    @container card-grid (min-width: 1170px) {
        max-width: 1170px; // 7 portrait
    }

    @container card-grid (min-width: 1340px) {
        max-width: 1340px; // 8 portrait
    }

    @container card-grid (min-width: 1540px) {
        max-width: 1540px; // 9 portrait
    }

    @container card-grid (min-width: 1740px) {
        max-width: 1740px; // 10 portrait
    }

    @container card-grid (min-width: 1960px) {
        max-width: 1960px; // 13 portrait
    }
}

// Flexbox grid - cards have fixed widths, flex wraps them
.grid {
    @include gridWidth;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

// Scrollable horizontal variant
.scrollContainer {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;

    &::-webkit-scrollbar {
        display: none;
    }
}

.scrollRow {
    display: flex;
    gap: $space-4;
    padding-bottom: $space-2;
}

.scrollRow > * {
    flex: 0 0 auto;
    scroll-snap-align: start;
}

// Loading state
.loading {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
}

// Empty state
.empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    color: $text-muted;
    text-align: center;
    padding: $space-6;
}

.emptyIcon {
    font-size: 48px;
    margin-bottom: $space-3;
    opacity: 0.5;
}

.emptyText {
    font-size: 14px;
}
